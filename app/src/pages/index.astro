---
import Layout from "../layouts/Layout.astro";

export const prerender = true;
---

<Layout title="Ethan Hassett">
  <div class="pb-(--space-3xl)">
    <p class="heading">Ethan Hassett</p>
    <div class="h-(--step-1)">
      <div class="inline-block text-(length:--step-1)">
        <span id="title"></span>
        <noscript><span id="title">Cloud Engineer</span></noscript>
      </div>
    </div>
    <hr class="divider" />
    <div
      class="flex flex-row flex-wrap justify-between gap-x-(--space-2xl) gap-y-(--space-xs)"
    >
      <a
        href="https://github.com/ehassett/"
        target="_blank"
        rel="noopener noreferrer"
      >
        &#8250; view my work
      </a>
      <a href="/contact"> &#8250; get in touch </a>
    </div>
  </div>
</Layout>

<script>
  var titles = [
    "Cloud Engineer",
    "Techno Snob",
    "Globetrotter",
    "Terraform Certified",
    "Home Chef",
    "Bedroom DJ",
  ];
  var reverse = false;
  var i = 0;
  var j = 0;

  function typeTitle() {
    var jitter = Math.floor(Math.random() * 25 + 45);
    var title = document.getElementById("title");

    if (title !== null) {
      if (reverse) {
        if (title.innerHTML.length > 0) {
          title.innerHTML = title.innerHTML.slice(0, -1);
          setTimeout(typeTitle, jitter);
        } else {
          j = (j + 1) % titles.length;
          reverse = false;
          setTimeout(typeTitle, 1000);
        }
      } else {
        if (i === titles[j].length) {
          i = 0;
          reverse = true;
          setTimeout(typeTitle, 3000);
        } else {
          if (i < titles[j].length) {
            title.innerHTML = title.innerHTML + titles[j].charAt(i);
            i++;
            setTimeout(typeTitle, jitter);
          }
        }
      }
    }
  }

  document.addEventListener("astro:page-load", typeTitle);
</script>
